$(document).ready((function(){function t(){let t=n();if($("#cart-content table tr:not(:first-child):not(:last-child)").remove(),$(".empty-cart-message").remove(),t.length>0){for(const n of t)a(n);$("#cart-content .btn-primary").show()}else $("#cart-content table").after('<p class="empty-cart-message">Your cart is empty</p>'),$("#cart-content .btn-primary").hide();o()}function n(){return JSON.parse(localStorage.getItem("foodCart"))||[]}function e(t){localStorage.setItem("foodCart",JSON.stringify(t));const n=new Event("cartUpdated");document.dispatchEvent(n)}function a(t){const n=(t.price*t.quantity).toFixed(2),e=`\n            <tr>\n                <td><img src="${t.image}" alt="${t.name}" /></td>\n                <td>${t.name}</td>\n                <td>$ ${t.price.toFixed(2)}</td>\n                <td>${t.quantity}</td>\n                <td>$ ${n}</td>\n                <td><a href="#" class="btn-delete">&times;</a></td>\n            </tr>\n        `;$(e).insertBefore("#cart-content table tr:last-child")}function o(){let t=0;$("#cart-content table tr:not(:first-child):not(:last-child)").each((function(){const n=parseFloat($(this).find("td:nth-child(5)").text().replace("$",""));isNaN(n)||(t+=n)})),$("#cart-content table tr:last-child th:nth-child(2)").text("$"+t.toFixed(2)),function(){let t=0;n().forEach((n=>{t+=n.quantity})),$(".badge").text(t)}()}function i(){o()}t(),$(document).on("submit",".food-menu-box form",(function(t){t.preventDefault();const o=$(this).closest(".food-menu-box");!function(t){let o=n();const c=o.findIndex((n=>n.name===t.name));if(-1!==c){o[c].quantity+=t.quantity;const n=$(`#cart-content td:contains('${t.name}')`).closest("tr");if(n.length){const t=o[c].quantity,e=o[c].price;n.find("td:nth-child(4)").text(t),n.find("td:nth-child(5)").text("$ "+(e*t).toFixed(2)),n.hide().fadeIn(300)}}else o.push(t),$("#cart-content").is(":visible")&&a(t);e(o),i()}({name:o.find("h4").text(),price:parseFloat(o.find(".food-price").text().replace("$","")),quantity:parseInt(o.find('input[type="number"]').val()),image:o.find("img").attr("src")}),function(t){$(".added-message").remove();const n=$('\n            <div class="added-message">\n                <i class="fa fa-check-circle"></i> Added to cart!\n            </div>\n        ');t.append(n),$("<style>").text("\n                .added-message {\n                    position: absolute;\n                    top: 50%;\n                    left: 50%;\n                    transform: translate(-50%, -50%);\n                    background: rgba(76, 209, 55, 0.9);\n                    color: white;\n                    padding: 15px 20px;\n                    border-radius: 8px;\n                    font-weight: 500;\n                    animation: fadeInOut 2s ease forwards;\n                    z-index: 100;\n                    text-align: center;\n                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);\n                }\n                .added-message i {\n                    margin-right: 5px;\n                }\n                @keyframes fadeInOut {\n                    0% { opacity: 0; }\n                    20% { opacity: 1; }\n                    80% { opacity: 1; }\n                    100% { opacity: 0; }\n                }\n                .food-menu-box {\n                    position: relative;\n                }\n                .empty-cart-message {\n                    padding: 15px;\n                    text-align: center;\n                    color: #666;\n                }\n            ").appendTo("head"),setTimeout((function(){n.remove()}),2e3)}(o)})),$("#shopping-cart").on("click",(function(){t(),$("#cart-content").toggle("blind","",500)})),$(document).on("click",".btn-delete",(function(t){t.preventDefault();const a=$(this).closest("tr");!function(t){let a=n();a=a.filter((n=>n.name!==t)),e(a),i()}(a.find("td:nth-child(2)").text()),a.fadeOut(300,(function(){$(this).remove(),o(),$("#cart-content table tr").length<=2&&($("#cart-content table").after('<p class="empty-cart-message">Your cart is empty</p>'),$("#cart-content .btn-primary").hide())}))})),i()}));